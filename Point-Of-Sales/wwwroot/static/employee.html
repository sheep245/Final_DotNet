<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Employee</title>
    <link rel="icon" type="image/x-icon" href="../public/images/favicon.png">
    <link href="../public/stylesheets/employee.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
</head>


<body>
    <div id="nav"></div>
    <!-- Search bar -->
    <div id="search-bar">
        <input type="text" placeholder="Search...">
        <button type="submit"><i class="fas fa-search"></i></button>
    </div>
    <div id="Addbtn">
        <!-- Add employee button -->
        <button id="add-employee" onclick="showAddPopup()">Add employee</button>
    </div>

    <section>
        <table>
            <thead class="table-header">
                <tr>
                    <th>no.</th>
                    <th>employee</th>
                    <th>gmail</th>
                    <th>active</th>
                    <th>lock</th>
                    <th>role</th>
                    <th>manage</th>
                </tr>
            </thead>

            <tbody class="table-body">
                <tr>
                    <td>
                        1
                    </td>
                    <td class="img-name">
                        <img src="../public/images/avatar.png" width="60px">
                        lctkoo bị khùng
                    </td>
                    <td>
                        abc@gmai.com
                    </td>
                    <td>

                    </td>
                    <td>

                    </td>
                    <td>
                        admin
                    </td>
                    <td>
                        <i class="fa fa-edit" onclick="showPopup()"></i>
                        <div class="dropdown">
                            <i class="fa fa-ellipsis-h dropdown-toggle" data-toggle="dropdown"></i>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" href="#"><i class="fas fa-trash-alt"></i> Delete</a>
                                <a class="dropdown-item" href="#"><i class="fas fa-redo"></i> Resend link</a>
                                <a class="dropdown-item" href="#"><i class="fas fa-user-slash"></i> Inactivate
                                    Status</a>
                                <a class="dropdown-item" href="#"><i class="fas fa-lock"></i> Locked Status</a>
                            </div>
                        </div>
                    </td>
                </tr>


            </tbody>

        </table>
        <!-- The Popup for Add employee-->


        <div id="myPopup" class="popup" style="display: none;">
            <form method="POST" action="/employee/addEmployee">
                <div class="popup-content">
                    <span class="close" onclick="hideAddPopup()">&times;</span>
                    <h2>Add Employee</h2>
                    <label for="fullname">Full Name:</label><br>
                    <input type="text" id="fullname" name="fullname" required><br>
                    <label for="email">Email:</label><br>
                    <input type="email" id="email" name="email" required><br>
                    <label for="gender">Gender:</label><br>
                    <select id="gender" name="gender" required>
                        <option value="" disabled selected hidden>Choose an option</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                    </select><br>
                    <label for="dob">Date of Birth:</label><br>
                    <input type="date" id="dob" name="dob" required><br>
                    <label for="phone">Phone:</label><br>
                    <input type="text" id="phone" name="phone" required><br>
                    <label for="address">Address:</label><br>
                    <input type="text" id="address" name="address" required><br>
                    <label for="role">Role:</label><br>
                    <select id="role" name="role" required>
                        <option value="admin">Admin</option>
                        <option value="user">Staff</option>
                    </select><br>
                    <div class="button">
                        <input type="submit" value="Add employee">
                    </div>
                </div>
            </form>
        </div>



        <!-- The Popup for edit/view-->
        <div id="myEditPopup" class="Editpopup" style="display: none;">
            <form method="POST" action="/employee/editEmployee">
                <div class="popup-content">
                    <span class="close" onclick="hidePopup()">&times;</span>
                    <h2>Employee details</h2>
                    <label for="fullname">Full Name:</label><br>
                    <input type="text" id="fullname" name="fullname" required><br>
                    <label for="email">Email:</label><br>
                    <input type="email" id="email" name="email" required><br>
                    <label for="gender">Gender:</label><br>
                    <select id="gender" name="gender" required>
                        <option value="" disabled selected hidden>Choose an option</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                    </select><br>
                    <label for="dob">Date of Birth:</label><br>
                    <input type="date" id="dob" name="dob" required><br>
                    <label for="phone">Phone:</label><br>
                    <input type="text" id="phone" name="phone" required><br>
                    <label for="address">Address:</label><br>
                    <input type="text" id="address" name="address" required><br>
                    <label for="role">Role:</label><br>
                    <select id="role" name="role" required>
                        <option value="admin">Admin</option>
                        <option value="user">Staff</option>
                    </select><br>
                    <div class="button">
                        <input type="submit" value="Add employee">
                    </div>
                </div>
            </form>
        </div>
    </section>
    <div id="footer"></div>


    <script>
        $(function () {
            //import navbar and footer
            $("#nav").load("./nav.html");
            $("#footer").load("./footer.html");
        });


        function showPopup(employeeData) {
            if (typeof employeeData === 'string') {
                employeeData = JSON.parse(employeeData);
            }
            console.log(employeeData)
            var popup = document.getElementById("myEditPopup");
            popup.style.display = "block";
        }

        function hidePopup() {
            var popup = document.getElementById("myEditPopup");
            popup.style.display = "none";
        }

        function showAddPopup() {
            var popup = document.getElementById("myPopup");
            popup.style.display = "block";
        }

        function hideAddPopup() {
            var popup = document.getElementById("myPopup");
            popup.style.display = "none";
        }
    </script>
</body>

</html>